<div class="container">
  <h2>Liste des suggestions</h2>

  <!-- Barre de recherche -->
  <input
    type="text"
    placeholder="Rechercher une suggestion"
    [(ngModel)]="searchText"
    class="search-bar"
  />

  <!-- Liste des cartes de suggestions -->
  <div class="suggestion-card" *ngFor="let suggestion of filterSuggestions()">
    <h3>{{ suggestion.title }}</h3>
    <p class="category">{{ suggestion.category }}</p>
    <p class="date">{{ suggestion.date | date:'dd MMM yyyy' }}</p>
    <p>{{ suggestion.description }}</p>

    <!-- Statut -->
    <span
      class="status"
      [ngClass]="{
        'status-acceptee': suggestion.status === 'acceptee',
        'status-refusee': suggestion.status === 'refusee',
        'status-en-attente': suggestion.status === 'en_attente'
      }"
    >
      {{ suggestion.status.toUpperCase() }}
    </span>

    <!-- Actions -->
    <div class="actions" *ngIf="suggestion.status !== 'refusee'">
      <button (click)="addLike(suggestion)">ğŸ‘ Like {{ suggestion.nbLikes }}</button>
      <button (click)="addToFavorites(suggestion)">â¤ï¸ Ajouter aux favoris</button>
    </div>
  </div>

  <!-- Favoris -->
  <div *ngIf="favorites.length > 0" class="favorites">
    <h3>Mes Favoris</h3>
    <ul>
      <li *ngFor="let fav of favorites">{{ fav.title }} ({{ fav.status }})</li>
    </ul>
  </div>
</div>